<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>FR DSS API Documentation - Using the ESCWCC API</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Using the ESCWCC API</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">FR DSS API Documentation</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">ESC</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./UsingESCWCCAPI.html" class="sidebar-item-text sidebar-link active">Using the ESCWCC API</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#import-required-packages" id="toc-import-required-packages" class="nav-link active" data-scroll-target="#import-required-packages">Import required packages</a></li>
  <li><a href="#compose-api-request" id="toc-compose-api-request" class="nav-link" data-scroll-target="#compose-api-request">Compose API request</a></li>
  <li><a href="#make-the-api-call" id="toc-make-the-api-call" class="nav-link" data-scroll-target="#make-the-api-call">Make the API call</a></li>
  <li><a href="#explore-results" id="toc-explore-results" class="nav-link" data-scroll-target="#explore-results">Explore results</a></li>
  <li><a href="#calculate-claimable-carbon-sequestration" id="toc-calculate-claimable-carbon-sequestration" class="nav-link" data-scroll-target="#calculate-claimable-carbon-sequestration">Calculate Claimable Carbon Sequestration</a></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Using the ESCWCC API</h1>
<p class="subtitle lead">v0.5</p>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>This notebook details how to call the ESCWCC API endpoint and use the response data to obtain woodland carbon code (WCC) metrics such as the claimable carbon sequestration using R and Python.</p>
<section id="import-required-packages" class="level2">
<h2 class="anchored" data-anchor-id="import-required-packages">Import required packages</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>pandas.options.mode.chained_assignment <span class="op">=</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="compose-api-request" class="level2">
<h2 class="anchored" data-anchor-id="compose-api-request">Compose API request</h2>
<p>Establish API POST request URL</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>base_url <span class="op">=</span> <span class="st">"http://209.97.132.245:8000/ESCWCC/"</span>  <span class="co"># Develop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>base_url <span class="ot">&lt;-</span> <span class="st">"http://209.97.132.245:8000/ESCWCC/"</span>  <span class="co"># Develop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Set the longitude (lon) and latitude (lat) in EPSG:3857.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>lon <span class="op">=</span> <span class="op">-</span><span class="fl">141102.7542</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>lat <span class="op">=</span> <span class="fl">6830259.9735</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>lon <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">141102.7542</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>lat <span class="ot">&lt;-</span> <span class="fl">6830259.9735</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Establish the site modifier options.</p>
<ul>
<li>drainage:int
<ul>
<li>0 = None.</li>
<li>1 = Drainage installed.</li>
</ul></li>
<li>brash:int
<ul>
<li>0 = None (new planting).</li>
<li>1 = Fresh brash (&lt;18 months).</li>
<li>2 = Brash (&gt;18 months).</li>
</ul></li>
<li>fertiliser:int
<ul>
<li>0 = None.</li>
<li>1 = Fertiliser applied.</li>
</ul></li>
<li>exposure:int
<ul>
<li>0 = None.</li>
<li>1 = Exposed ridge/Coastal zone.</li>
<li>2 = Local shelter/Less exposed/Underplanting.</li>
</ul></li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>drainage <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>brash <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>fertiliser <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>exposure <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>drainage <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>brash <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>fertiliser <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>exposure <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Establish the climate scenario/s (climateScenList), climate years (climateYearList) species group filter (filter), and ESC version.</p>
<ul>
<li>climateScenList:List
<ul>
<li>A list containing any of: [‘UKCP09’, ‘RCP2.6’, ‘RCP4.5’, ‘RCP6.0’, ‘RCP8.5’]</li>
</ul></li>
<li>climateYearList:List
<ul>
<li>A list containing any of: [‘Baseline’, ‘2010’, ‘2020’, ‘2030’, ‘2040’, ‘2050’, ‘2060’, ‘2070’, ‘2080’]</li>
</ul></li>
<li>filter:int
<ul>
<li>0 = No filter</li>
<li>1 = Conifers only</li>
<li>2 = Broadleaves only</li>
<li>3 = Natives only</li>
<li>4 = Non-natives only</li>
</ul></li>
<li>escVersion:str
<ul>
<li>“4.33” = “4.33”</li>
</ul></li>
</ul>
<p>Please note that we are currently integrating UKCP18 RCP scenario data, as such RCP2.6, RCP4.5, RCP6.0, and RCP8.5 are currently placeholders.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>climateScenList <span class="op">=</span> [<span class="st">'UKCP09'</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>climateYearList <span class="op">=</span> [<span class="st">'Baseline'</span>, <span class="st">'2050'</span>, <span class="st">'2080'</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">filter</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>escVersion <span class="op">=</span> <span class="st">"4.33"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>climateScenList <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">'UKCP09'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>climateYearList <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">'Baseline'</span>, <span class="st">'2050'</span>, <span class="st">'2080'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>filter <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>escVersion <span class="ot">&lt;-</span> <span class="st">"4.33"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Establish the Woodland Carbon Code (WCC) version (wccVersion), the planting spacing (wccSpacing), management regime (thinning or no thinning) (wccManagement), period (wccPeriod), area of the site to be established (wccEstArea) in hectares (ha), the length of roads to be constructed (wccRoadLength) in km, and the area, if any, of arable land with mineral soil to be planted (wccSoilArea) in ha.</p>
<ul>
<li>wccVersion:str
<ul>
<li>“2.4” = “2.4”, (March 2021)</li>
</ul></li>
<li>wccSpacing:list
<ul>
<li>0 = ‘all’, equivalent to {0: [1.2, 2.5, 3.0, 1.4, 1.7, 1.8, 1.5, 2.0]}</li>
</ul></li>
<li>wccManagement:list
<ul>
<li>0 = ‘all’, equivalent to {0: [“NO_thin”, “Thinned”]}</li>
</ul></li>
<li>wccPeriod:list
<ul>
<li>0 = ‘all’, equivalent to {0: [“0”, “0-5”, “5-10”, “10-15”, “15-20”, “20-25”, “25-30”, “30-35”, “35-40”, “40-45”, “45-50”, “50-55”, “55-60”, “60-65”, “65-70”, “70-75”, “75-80”, “80-85”, “85-90”, “90-95”, “95-100”, “100-105”, “105-110”, “110-115”, “115-120”, “120-125”, “125-130”, “130-135”, “135-140”, “140-145”, “145-150”, “150-155”, “155-160”, “160-165”, “165-170”, “170-175”, “175-180”, “180-185”, “185-190”, “190-195”, “195-200”]}</li>
</ul></li>
<li>wccEstArea:float
<ul>
<li>0 by default, any positive number.</li>
</ul></li>
<li>wccRoadLength:float
<ul>
<li>0 by default, any positive number.</li>
</ul></li>
<li>wccSoilArea:float
<ul>
<li>0 by default, any positive number.</li>
</ul></li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>wccVersion <span class="op">=</span> <span class="st">"2.4"</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>wccSpacing <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>wccManagement <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>wccPeriod <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>wccEstArea <span class="op">=</span> <span class="dv">12</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>wccRoadLength <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>wccSoilArea <span class="op">=</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>wccVersion <span class="ot">&lt;-</span> <span class="st">"2.4"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>wccSpacing <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>wccManagement <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>wccPeriod <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>wccEstArea <span class="ot">&lt;-</span> <span class="dv">12</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>wccRoadLength <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>wccSoilArea <span class="ot">&lt;-</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Establish the manual Soil Moisture Regime (SMR) and Soil Nutrient Regime (SNR) modifier values. Enter None, or omit from the request body (<code>req_body</code>) below if you do not wish to manually alter the values.</p>
<ul>
<li>smr:float, any number between 0 and 8. Indicative categorical values are as follows:
<ul>
<li>1 = Very Wet</li>
<li>2 = Wet</li>
<li>3 = Moist</li>
<li>4 = Moist</li>
<li>5 = Fresh</li>
<li>6 = Slightly Dry</li>
<li>7 = Moderately Dry</li>
<li>8 = Very Dry</li>
</ul></li>
<li>snr:float, any number between 0 and 6. Indicative categorical values are as follows:
<ul>
<li>0 = Very Poor (VP1)</li>
<li>0.5 = Very Poor (VP2)</li>
<li>1 = Very Poor (VP3)</li>
<li>1.5 = Very Poor - Poor</li>
<li>2 = Poor</li>
<li>3 = Medium</li>
<li>4 = Rich</li>
<li>5 = Very Rich</li>
<li>6 = Carbonate</li>
</ul></li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>smr <span class="op">=</span> <span class="va">None</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>snr <span class="op">=</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>smr <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>snr <span class="ot">&lt;-</span> <span class="cn">NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Compose the request body. Optionally, you can accept the default values for all parameters apart from lon and lat by emitting the parameters from the request body (as shown in the commented out code below).</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># req_body = {"lon": lon, "lat": lat}</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>req_body <span class="op">=</span> {<span class="st">"lon"</span>: lon, <span class="st">"lat"</span>: lat, </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">"drainage"</span>: drainage, <span class="st">"brash"</span>: brash, <span class="st">"fertiliser"</span>: fertiliser, <span class="st">"exposure"</span>: exposure, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"climateScenList"</span>: climateScenList, <span class="st">"climateYearList"</span>: climateYearList,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"filter"</span>: <span class="bu">filter</span>, <span class="st">"escVersion"</span>: escVersion, <span class="st">"wccVersion"</span>: wccVersion, </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"smr"</span>: smr, <span class="st">"snr"</span>: snr,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"wccSpacing"</span>: wccSpacing, <span class="st">"wccManagement"</span>: wccManagement, <span class="st">"wccPeriod"</span>: wccPeriod,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">"wccEstArea"</span>: wccEstArea, <span class="st">"wccRoadLength"</span>: wccRoadLength, <span class="st">"wccSoilArea"</span>: wccSoilArea}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># req_list = list("smr" = smr, "snr" = snr)</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>req_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"lon"</span> <span class="ot">=</span> lon, <span class="st">"lat"</span> <span class="ot">=</span> lat, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"drainage"</span> <span class="ot">=</span> drainage, <span class="st">"brash"</span> <span class="ot">=</span> brash, <span class="st">"fertiliser"</span> <span class="ot">=</span>  fertiliser, <span class="st">"exposure"</span> <span class="ot">=</span> exposure, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"climateScenList"</span> <span class="ot">=</span> climateScenList, <span class="st">"climateYearList"</span> <span class="ot">=</span> climateYearList,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"filter"</span> <span class="ot">=</span> filter, <span class="st">"escVersion"</span> <span class="ot">=</span> escVersion, <span class="st">"wccVersion"</span> <span class="ot">=</span> wccVersion, </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"smr"</span> <span class="ot">=</span> smr, <span class="st">"snr"</span> <span class="ot">=</span> snr,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"wccSpacing"</span> <span class="ot">=</span> wccSpacing, <span class="st">"wccManagement"</span> <span class="ot">=</span> wccManagement, <span class="st">"wccPeriod"</span> <span class="ot">=</span> wccPeriod,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"wccEstArea"</span> <span class="ot">=</span> wccEstArea, <span class="st">"wccRoadLength"</span> <span class="ot">=</span> wccRoadLength, <span class="st">"wccSoilArea"</span> <span class="ot">=</span> wccSoilArea)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>req_body <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">toJSON</span>(req_list, <span class="at">auto_unbox =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="make-the-api-call" class="level2">
<h2 class="anchored" data-anchor-id="make-the-api-call">Make the API call</h2>
<p>Call the ESCWCC API</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ESCWCCresponse <span class="op">=</span> requests.post(url <span class="op">=</span> base_url, json <span class="op">=</span> req_body)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>ESCWCCresponse.status_code <span class="op">==</span> <span class="dv">200</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>ESCWCCresponse <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">POST</span>(<span class="at">url =</span> base_url, <span class="at">body =</span> req_body)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>ESCWCCresponse<span class="sc">$</span>status_code <span class="sc">==</span> <span class="dv">200</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Establish a function to deserialize the json response into a nested dictionary or nested list.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> deserialize(responseJson:<span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">dict</span>:</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    loadedJson <span class="op">=</span> json.loads(responseJson)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k,v <span class="kw">in</span> loadedJson.items():</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> w,s <span class="kw">in</span> loadedJson[k].items():</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> t,c <span class="kw">in</span> loadedJson[k][w].items():</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>                loadedJson[k][w][t] <span class="op">=</span> pandas.DataFrame.from_dict(data <span class="op">=</span> json.loads(c))</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> loadedJson</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>deserialize <span class="ot">&lt;-</span> <span class="cf">function</span>(responseJson){</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    responseContent <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">content</span>(responseJson)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    responseContent <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(responseContent)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">names</span>(responseContent)){</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span>(j <span class="cf">in</span> <span class="fu">names</span>(responseContent[[i]])){</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span>(k <span class="cf">in</span> <span class="fu">names</span>(responseContent[[i]][[j]])){</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>                responseContent[[i]][[j]][[k]] <span class="ot">=</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(responseContent[[i]][[j]][[k]])</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(responseContent)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>Call the <code>deserializeResults</code> function on the ESC API output.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>ESCWCCresponse_dict <span class="op">=</span> deserialize(responseJson <span class="op">=</span> ESCWCCresponse.json())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>ESCWCCresponse_list <span class="ot">&lt;-</span> <span class="fu">deserialize</span>(<span class="at">responseJson =</span> ESCWCCresponse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="explore-results" class="level2">
<h2 class="anchored" data-anchor-id="explore-results">Explore results</h2>
<p>The object produced (<code>ESCWCCresponse_dict</code>) is a nested dictionary with the following structure:</p>
<pre><code>ESCresponse_dict (dict)
├── Metadata (dict)
│&nbsp;&nbsp; ├── ESCMetadata (dict)
│&nbsp;&nbsp; │   ├── ESCTreeMetadata (DataFrame)
│&nbsp;&nbsp; ├── WCCMetadata (dict)
│&nbsp;&nbsp; │   ├── WCCMetadata (DataFrame)
│&nbsp;&nbsp; ├── APIMetadata (dict)
│&nbsp;&nbsp; │   ├── DateTime (DataFrame)
└───UKCP09 (dict)
    ├── Baseline (dict)
    │&nbsp;&nbsp; ├── ESCDoseVals (DataFrame)
    │&nbsp;&nbsp; ├── ESCResponseVals (DataFrame)
    │&nbsp;&nbsp; ├── ESCSuitMetrics (DataFrame)
    │&nbsp;&nbsp; ├── WCCTreeValues (DataFrame)
    │&nbsp;&nbsp; ├── WCCSoilLoss (DataFrame)
    │&nbsp;&nbsp; ├── WCCSoilSeq (DataFrame)
    │&nbsp;&nbsp; ├── WCCEstablishment (DataFrame)
    ├── 2050 (dict)
    │&nbsp;&nbsp; ├── ESCDoseVals (DataFrame)
    │&nbsp;&nbsp; ├── ESCResponseVals (DataFrame)
    │&nbsp;&nbsp; ├── ESCSuitMetrics (DataFrame)
    │&nbsp;&nbsp; ├── WCCTreeValues (DataFrame)
    │&nbsp;&nbsp; ├── WCCSoilLoss (DataFrame)
    │&nbsp;&nbsp; ├── WCCSoilSeq (DataFrame)
    │&nbsp;&nbsp; ├── WCCEstablishment (DataFrame)
    ├── 2080 (dict)
    │&nbsp;&nbsp; ├── ESCDoseVals (DataFrame)
    │&nbsp;&nbsp; ├── ESCResponseVals (DataFrame)
    │&nbsp;&nbsp; ├── ESCSuitMetrics (DataFrame)
    │&nbsp;&nbsp; ├── WCCTreeValues (DataFrame)
    │&nbsp;&nbsp; ├── WCCSoilLoss (DataFrame)
    │&nbsp;&nbsp; ├── WCCSoilSeq (DataFrame)
    │&nbsp;&nbsp; ├── WCCEstablishment (DataFrame)</code></pre>
<p>Access the ESC &amp; WCC data frames from the API response for a given climate scenario using the following code.</p>
<p>The <code>ESCDoseVals</code> data frame contains the environmental dose variables obtained from the modelled data and/or manually entered, which are then modified by the aforementioned API query parameters <code>drainage</code>, <code>brash</code>, <code>fertiliser</code>, and <code>exposure</code>. For more information on the underlying method see the <a href="https://www.forestresearch.gov.uk/publications/archive-an-ecological-site-classification-for-forestry-in-great-britain/">Forest Research Bulletin 124</a> and the <a href="https://www.forestresearch.gov.uk/publications/archive-an-ecological-site-classification-for-forestry-in-great-britain-with-special-reference-to-grampian-scotland/">Forest Research Technical Paper 20</a>. Column definitions:</p>
<ul>
<li>SMR - soil moisture regime</li>
<li>SNR - soil nutrient regime</li>
<li>AT - accumulated temperature</li>
<li>CT - continentality</li>
<li>DAMS - direct aspect method of scoring</li>
<li>MD - moisture deficit</li>
<li>Item - The stage of modification of the environmental dose variable values.</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>baseline_ESCDoseVals <span class="op">=</span> ESCWCCresponse_dict.get(<span class="st">"UKCP09"</span>).get(<span class="st">"Baseline"</span>).get(<span class="st">"ESCDoseVals"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>baseline_ESCDoseVals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SMR  SNR           AT  ...       DAMS          MD                   Item
0  3.0  5.0  1614.226929  ...  12.258021  165.391876          Values - Base
1  NaN  NaN          NaN  ...        NaN         NaN        Values - Manual
2  3.0  5.0  1614.226929  ...  12.258021  165.391876        Values - PreMod
3  0.0  0.0     0.000000  ...   0.000000    0.000000    Modifier - Drainage
4  0.0  0.0     0.000000  ...   0.000000    0.000000       Modifier - Brash
5  0.0  0.0     0.000000  ...   0.000000    0.000000  Modifier - Fertiliser
6  0.0  0.0     0.000000  ...   0.000000    0.000000    Modifier - Exposure
7  3.0  5.0  1614.226929  ...  12.258021  165.391876         Values - Final

[8 rows x 7 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>baseline_ESCDoseVals <span class="ot">=</span> ESCWCCresponse_list<span class="sc">$</span>UKCP09<span class="sc">$</span>Baseline<span class="sc">$</span>ESCDoseVals</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>baseline_ESCDoseVals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  SMR SNR       AT       CT     DAMS       MD                  Item
1   3   5 1614.227 10.86863 12.25802 165.3919         Values - Base
2  NA  NA       NA       NA       NA       NA       Values - Manual
3   3   5 1614.227 10.86863 12.25802 165.3919       Values - PreMod
4   0   0    0.000  0.00000  0.00000   0.0000   Modifier - Drainage
5   0   0    0.000  0.00000  0.00000   0.0000      Modifier - Brash
6   0   0    0.000  0.00000  0.00000   0.0000 Modifier - Fertiliser
7   0   0    0.000  0.00000  0.00000   0.0000   Modifier - Exposure
8   3   5 1614.227 10.86863 12.25802 165.3919        Values - Final</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The <code>ESCResponseVals</code> data frame contains data on the response of each tree species to each environmental dose metric. Column definitions:</p>
<ul>
<li>speciesCode - The Forest Research species code for the species.</li>
<li>metric - The environmental dose variable (see above).</li>
<li>response - The response of the tree species to the environmental dose variable. A unitless value between 0 and 1.</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>baseline_ESCResponseVals <span class="op">=</span> ESCWCCresponse_dict.get(<span class="st">"UKCP09"</span>).get(<span class="st">"Baseline"</span>).get(<span class="st">"ESCResponseVals"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>baseline_ESCResponseVals.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode metric  response
0          AH     AT  1.000000
1          AH     CT  1.000000
2          AH   DAMS  0.964892
3          AH     MD  0.909465
4          AH    SMR  0.755714</code></pre>
</div>
</div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>baseline_ESCResponseVals <span class="ot">=</span> ESCWCCresponse_list<span class="sc">$</span>UKCP09<span class="sc">$</span>Baseline<span class="sc">$</span>ESCResponseVals</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>baseline_ESCResponseVals <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode metric  response
1          AH     AT 1.0000000
2          AH     CT 1.0000000
3          AH   DAMS 0.9648923
4          AH     MD 0.9094654
5          AH    SMR 0.7557143
6          AH    SNR 1.0000000</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The <code>ESCSuitMetrics</code> data frame contains a range of summary data relating to the suitability of each tree species based on the <code>ESCResponseVals</code> data. Column definitions:</p>
<ul>
<li>speciesCode - The Forest Research species code for the species.</li>
<li>speciesScientific - The scientific name of the species.</li>
<li>speciesName - The common name of the species.</li>
<li>maxYC - The maximum yield class of that species</li>
<li>threat - Any major threats to that tree species which should be taken into account when considering planting that species.</li>
<li>limFactorInclAT - The limiting factor (metric with the lowest response) including AT.</li>
<li>limFactorInclATResponse - The response value for limiting factor (metric with the lowest response) including AT.</li>
<li>limFactorExclAT - The limiting factor (metric with the lowest response) excluding AT.</li>
<li>limFactorExclATResponse - The response value for limiting factor (metric with the lowest response) excluding AT.</li>
<li>TimberSuitability - The suitability of that tree species for planting as a timber crop.</li>
<li>EcologicalSuitability - The suitability of that tree species for planting.</li>
<li>estimatedYC - The estimated yield class.</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" role="tab" aria-controls="tabset-14-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" role="tab" aria-controls="tabset-14-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-14-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>baseline_ESCSuitMetrics <span class="op">=</span> ESCWCCresponse_dict.get(<span class="st">"UKCP09"</span>).get(<span class="st">"Baseline"</span>).get(<span class="st">"ESCSuitMetrics"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>baseline_ESCSuitMetrics.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode   speciesScientific  ... EcologicalSuitability  estimatedYC
0          AH  Fraxinus excelsior  ...              0.755714     9.068572
1         AMA    Acer macrophylum  ...              0.000000     0.000000
2         ASP     Populus tremula  ...              0.962698    11.552382
3          BE     Fagus sylvatica  ...              0.305714     3.057143
4         BPO       Populus nigra  ...              0.978258    15.652131

[5 rows x 12 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-14-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>baseline_ESCSuitMetrics <span class="ot">=</span> ESCWCCresponse_list<span class="sc">$</span>UKCP09<span class="sc">$</span>Baseline<span class="sc">$</span>ESCSuitMetrics</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>baseline_ESCSuitMetrics <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode  speciesScientific    speciesName maxYC  threat limFactorInclAT
1          AH Fraxinus excelsior            Ash    12 Chalara             SMR
2         AMA   Acer macrophylum Big leaf maple    12    None              CT
3         ASP    Populus tremula          Aspen    12    None             SNR
4          BE    Fagus sylvatica          Beech    10    None             SMR
5         BPO      Populus nigra   Black poplar    16    None            DAMS
6         CAR    Alnus glutinosa   Common alder    12    None            DAMS
  limFactorInclATResponse limFactorExclAT limFactorExclATResponse
1               0.7557143             SMR               0.7557143
2               0.0000000              CT               0.0000000
3               0.9626985             SNR               0.9626985
4               0.3057143             SMR               0.3057143
5               0.9782582            DAMS               0.9782582
6               0.8542166            DAMS               0.8542166
  TimberSuitability EcologicalSuitability estimatedYC
1         0.7557143             0.7557143    9.068572
2         0.0000000             0.0000000    0.000000
3         0.9626985             0.9626985   11.552382
4         0.3057143             0.3057143    3.057143
5         0.9782582             0.9782582   15.652131
6         0.8542166             0.8542166   10.250599</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The <code>WCCTreeValues</code> data frame contains data from the woodland carbon code biomass carbon lookup tables (BCLT) and clearfell max sequence values for the yield class nearest to the ESC estimated yield class. Column definitions:</p>
<ul>
<li>speciesCode - The Forest Research species code for the species.</li>
<li>wccCode - The WCC species code mapped to the ESC species, from which the WCC data is retrieved.</li>
<li>speciesScientific - The scientific name of the species.</li>
<li>speciesName - The common name of the species.</li>
<li>estimatedYC - The estimated yield class.</li>
<li>roundedYC - The nearest even yield class</li>
<li>minWCCYC - The lowest yield class with corresponding values for the wccCode biomass carbon lookup tables (BCLT) data</li>
<li>maxWCCYC - The highest yield class with corresponding values for the wccCode biomass carbon lookup tables (BCLT) data</li>
<li>finalYC - The yield class used to retrieve the BCLT data. If the roundedYC is less than the minWCCYC this is set to the minWCCYC. If the roundedYC is greater than the maxWCCYC this is set to the maxWCCYC, else the roundedYC value is used.</li>
<li>spacing - The planting spacing. Retrieved from column C in the BCLT tables.</li>
<li>management - The management regime for the planted area, thinned or un-thinned. Retrieved from column E in the BCLT tables.</li>
<li>period - The period of years associated with the wcc data. Retrieved from column F in the BCLT tables.</li>
<li>standingCarbonYr - The carbon contained within the above-ground biomass of the trees planted on site. Retrieved from column G in the BCLT tables. Units of tCO2e/ha/yr.</li>
<li>debrisCarbonYr - The carbon contained within the debris on site. Retrieved from column H in the BCLT tables. Units of tCO2e/ha/yr.</li>
<li>totalCarbonYr - The total carbon contained on site, equal to the sum of standingCarbonYr and debrisCarbonYr. Retrieved from column I in the BCLT tables. Units of tCO2e/ha/yr.</li>
<li>cumCarbon5Yr - The cumulative carbon sequestered on site over the period stipulated in the period column. Retrieved from column J in the BCLT tables. Units of tCO2e/ha/period.</li>
<li>cumBiomassCarbon - The cumulative carbon sequestered on site over up until the period stipulated in the period column. Retrieved from column K in the BCLT tables. Units of tCO2e/ha.</li>
<li>cumEmissionsMgmt - The cumulative emissions from ongiong management on site. Retrieved from column L in the BCLT tables. Units of tCO2e/ha.</li>
<li>cumTotalCarbon - The total cumulative emissions on site. Retrieved from column M in the BCLT tables. Units of tCO2e/ha.</li>
<li>remCarbonYr - The quantity of carbon removed from the site yearly. Retrieved from column N in the BCLT tables. Units of tCO2e/ha/yr.</li>
<li>periodEnd - The rotation length stipulated in columns F to AK of the “Clearfell_Max_Seq_Values” sheet of the excel tool. Mapped to the last year of the period present in the period column.</li>
<li>clearfellCapCarbon - The Clearfell Cap Value associated with the periodEnd, wccCode, spacing, YC, and management. Units of tCO2e.</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" role="tab" aria-controls="tabset-15-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" role="tab" aria-controls="tabset-15-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-15-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues <span class="op">=</span> ESCWCCresponse_dict.get(<span class="st">"UKCP09"</span>).get(<span class="st">"Baseline"</span>).get(<span class="st">"WCCTreeValues"</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode wccCode  ... periodEnd clearfellCapCarbon
0          AH     SAB  ...       5.0                6.5
1          AH     SAB  ...      10.0               13.0
2          AH     SAB  ...      15.0               64.0
3          AH     SAB  ...      20.0              115.0
4          AH     SAB  ...      25.0              175.0

[5 rows x 22 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-15-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues <span class="ot">=</span> ESCWCCresponse_list<span class="sc">$</span>UKCP09<span class="sc">$</span>Baseline<span class="sc">$</span>WCCTreeValues</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode wccCode  speciesScientific speciesName estimatedYC roundedYC
1          AH     SAB Fraxinus excelsior         Ash    9.068572        10
2          AH     SAB Fraxinus excelsior         Ash    9.068572        10
3          AH     SAB Fraxinus excelsior         Ash    9.068572        10
4          AH     SAB Fraxinus excelsior         Ash    9.068572        10
5          AH     SAB Fraxinus excelsior         Ash    9.068572        10
6          AH     SAB Fraxinus excelsior         Ash    9.068572        10
  minWCCYC maxWCCYC finalYC spacing management period standingCarbonYr
1        2       12      10     1.5    NO_thin    0-5             4.07
2        2       12      10     1.5    NO_thin   5-10            12.42
3        2       12      10     1.5    NO_thin  10-15            29.50
4        2       12      10     1.5    NO_thin  15-20            26.84
5        2       12      10     1.5    NO_thin  20-25            19.91
6        2       12      10     1.5    NO_thin  25-30            14.58
  debrisCarbonYr totalCarbonYr cumCarbon5Yr cumBiomassCarbon cumEmissionsMgmt
1           0.52          4.59         23.0             23.0                0
2           0.65         13.06         65.3             88.3                0
3           1.34         30.84        154.2            242.5                0
4           0.82         27.66        138.3            380.8                0
5           3.53         23.44        117.2            498.0                0
6          12.91         27.49        137.5            635.5                0
  cumTotalCarbon remCarbonYr periodEnd clearfellCapCarbon
1           23.0           0         5                6.5
2           88.3           0        10               13.0
3          242.5           0        15               64.0
4          380.8           0        20              115.0
5          498.0           0        25              175.0
6          635.5           0        30              235.0</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The <code>WCCEstablishment</code> data frame contains the establishment emission values calculated using the same methodology as in the “StandardProjectCarbonCalculator” sheet of the excel tool. Column definitions:</p>
<ul>
<li>seedlingSpacing</li>
<li>variable - the establishment emission source, one of:
<ul>
<li>seedling</li>
<li>groundPrepFuel</li>
<li>treeShelters</li>
<li>fencing</li>
<li>herbicide</li>
<li>totalEmissions</li>
</ul></li>
<li>totalEmissions- the carbon emissions associated with that seedlingSpacing and variable. Units of tCO2e.</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-16-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-1" role="tab" aria-controls="tabset-16-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-2" role="tab" aria-controls="tabset-16-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-16-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCEstablishment <span class="op">=</span> ESCWCCresponse_dict.get(<span class="st">"UKCP09"</span>).get(<span class="st">"Baseline"</span>).get(<span class="st">"WCCEstablishment"</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCEstablishment.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   seedlingSpacing  variable  totalEmissions
0              1.2  seedling          -12.60
1              1.4  seedling           -9.24
2              1.5  seedling           -8.04
3              1.7  seedling           -6.24
4              2.0  seedling           -4.56</code></pre>
</div>
</div>
</div>
<div id="tabset-16-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCEstablishment <span class="ot">=</span> ESCWCCresponse_list<span class="sc">$</span>UKCP09<span class="sc">$</span>Baseline<span class="sc">$</span>WCCEstablishment</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCEstablishment <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  seedlingSpacing variable totalEmissions
1             1.2 seedling         -12.60
2             1.4 seedling          -9.24
3             1.5 seedling          -8.04
4             1.7 seedling          -6.24
5             2.0 seedling          -4.56
6             2.5 seedling          -2.88</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The <code>WCCSoilLoss</code> data frame contains data on the soil carbon emissions during the year of establishment (Year 1) for each country, percentage topsoil carbon to be subtracted and previous land use. Column definitions:</p>
<ul>
<li>Country - The country in which the site is located.</li>
<li>topsoilCarbonSubtract - the percentage of topsoil carbon to subtract .</li>
<li>Seminatural - the soil carbon emissions associated with the previous land-use “Semi-natural”, units in tCO2e/ha.</li>
<li>Pasture - the soil carbon emissions associated with the previous land-use “Pasture, units in tCO2e/ha.</li>
<li>Arable - the soil carbon emissions associated with the previous land-use “Arable”, units in tCO2e/ha.</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-17-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-1" role="tab" aria-controls="tabset-17-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-17-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-2" role="tab" aria-controls="tabset-17-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-17-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-17-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilLoss <span class="op">=</span> ESCWCCresponse_dict.get(<span class="st">"UKCP09"</span>).get(<span class="st">"Baseline"</span>).get(<span class="st">"WCCSoilLoss"</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilLoss.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Country  topsoilCarbonSubtract  Seminatural   Pasture    Arable
0           England                      0          0.0  0.000000  0.000000
1          Scotland                      0          0.0  0.000000  0.000000
2             Wales                      0          0.0  0.000000  0.000000
3  Northern Ireland                      0          0.0  0.000000  0.000000
4           England                      2         -8.8 -5.866667 -5.133333</code></pre>
</div>
</div>
</div>
<div id="tabset-17-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-17-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilLoss <span class="ot">=</span> ESCWCCresponse_list<span class="sc">$</span>UKCP09<span class="sc">$</span>Baseline<span class="sc">$</span>WCCSoilLoss</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilLoss <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Country topsoilCarbonSubtract Seminatural    Pasture    Arable
1          England                     0     0.00000   0.000000  0.000000
2         Scotland                     0     0.00000   0.000000  0.000000
3            Wales                     0     0.00000   0.000000  0.000000
4 Northern Ireland                     0     0.00000   0.000000  0.000000
5          England                     2    -8.80000  -5.866667 -5.133333
6         Scotland                     2   -11.73333 -11.733333 -8.800000</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>The <code>WCCSoilSeq</code> data frame contains data on the cumulative soil carbon sequestration for mineral soils which where the former land use was arable agriculture. Column definitions:</p>
<ul>
<li>period - The period of years associated with the wcc data. Retrieved from column Y in the “StandardProjectCarbonCalculator” sheet of the excel tool.</li>
<li>cumSoilSeq - Calculated by multiplying column AY in the “StandardProjectCarbonCalculator” by the site area. Units in tCO2e.</li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-18-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-1" role="tab" aria-controls="tabset-18-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-18-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-2" role="tab" aria-controls="tabset-18-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-18-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-18-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilSeq <span class="op">=</span> ESCWCCresponse_dict.get(<span class="st">"UKCP09"</span>).get(<span class="st">"Baseline"</span>).get(<span class="st">"WCCSoilSeq"</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilSeq.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  cumSoilSeq
0     0-5         5.5
1    5-10        11.0
2   10-15        16.5
3   15-20        22.0
4   20-25        27.5</code></pre>
</div>
</div>
</div>
<div id="tabset-18-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-18-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilSeq <span class="ot">=</span> ESCWCCresponse_list<span class="sc">$</span>UKCP09<span class="sc">$</span>Baseline<span class="sc">$</span>WCCSoilSeq</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCSoilSeq <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  period cumSoilSeq
1    0-5        5.5
2   5-10       11.0
3  10-15       16.5
4  15-20       22.0
5  20-25       27.5
6  25-30       33.0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="calculate-claimable-carbon-sequestration" class="level2">
<h2 class="anchored" data-anchor-id="calculate-claimable-carbon-sequestration">Calculate Claimable Carbon Sequestration</h2>
<p>To calculate the average total claimable sequestration by year in tCO2e/ha perform the following calculations using the API outputs.</p>
<p>Columns suffixed with (&lt;[A-Z]&gt;) correspond to the columns CB to CM of Version 2.4 (March 2021) of the WCC excel tool.</p>
<p>First, retrieve the WCC Biomass Carbon Lookup Table (BCLT) and Clearfell Max Seq Values (CMSV) values for selected species, e.g.&nbsp;Rowan (ROW).</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-19-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-1" role="tab" aria-controls="tabset-19-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-19-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-2" role="tab" aria-controls="tabset-19-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-19-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-19-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW <span class="op">=</span> baseline_WCCTreeValues[baseline_WCCTreeValues[<span class="st">"speciesCode"</span>] <span class="op">==</span> <span class="st">"ROW"</span>]</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     speciesCode wccCode  ... periodEnd clearfellCapCarbon
1200         ROW     SAB  ...       NaN                NaN
1201         ROW     SAB  ...       NaN                NaN
1202         ROW     SAB  ...       NaN                NaN
1203         ROW     SAB  ...       NaN                NaN
1204         ROW     SAB  ...       NaN                NaN

[5 rows x 22 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-19-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-19-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW <span class="ot">&lt;-</span> baseline_WCCTreeValues <span class="sc">|&gt;</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(speciesCode <span class="sc">==</span> <span class="st">"ROW"</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode wccCode speciesScientific speciesName estimatedYC roundedYC
1         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
2         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
3         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
4         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
5         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
6         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
  minWCCYC maxWCCYC finalYC spacing management period standingCarbonYr
1        2       12       2     1.5    NO_thin    0-5               NA
2        2       12       2     1.5    NO_thin   5-10               NA
3        2       12       2     1.5    NO_thin  10-15               NA
4        2       12       2     1.5    NO_thin  15-20               NA
5        2       12       2     1.5    NO_thin  20-25               NA
6        2       12       2     1.5    NO_thin  25-30               NA
  debrisCarbonYr totalCarbonYr cumCarbon5Yr cumBiomassCarbon cumEmissionsMgmt
1             NA            NA           NA               NA               NA
2             NA            NA           NA               NA               NA
3             NA            NA           NA               NA               NA
4             NA            NA           NA               NA               NA
5             NA            NA           NA               NA               NA
6             NA            NA           NA               NA               NA
  cumTotalCarbon remCarbonYr periodEnd clearfellCapCarbon
1            2.7          NA        NA                 NA
2            9.6          NA        NA                 NA
3           28.9          NA        NA                 NA
4           76.4          NA        NA                 NA
5          120.6          NA        NA                 NA
6          159.7          NA        NA                 NA</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Select the BCLT and CMSV values for a particular spacing and management regime, e.g.&nbsp;1.5m and Thinned.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-20-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-20-1" role="tab" aria-controls="tabset-20-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-20-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-20-2" role="tab" aria-controls="tabset-20-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-20-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-20-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW_1p5_Thinned <span class="op">=</span> baseline_WCCTreeValues_ROW[(baseline_WCCTreeValues_ROW.spacing <span class="op">==</span> <span class="fl">1.5</span>) <span class="op">&amp;</span> (baseline_WCCTreeValues_ROW.management <span class="op">==</span> <span class="st">"Thinned"</span>)]</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW_1p5_Thinned.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     speciesCode wccCode  ... periodEnd clearfellCapCarbon
1240         ROW     SAB  ...       NaN                NaN
1241         ROW     SAB  ...       NaN                NaN
1242         ROW     SAB  ...       NaN                NaN
1243         ROW     SAB  ...       NaN                NaN
1244         ROW     SAB  ...       NaN                NaN

[5 rows x 22 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-20-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-20-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW_1p5_Thinned <span class="ot">&lt;-</span> baseline_WCCTreeValues_ROW <span class="sc">|&gt;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(spacing <span class="sc">==</span> <span class="fl">1.5</span>,</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>                  management <span class="sc">==</span> <span class="st">"Thinned"</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>baseline_WCCTreeValues_ROW_1p5_Thinned <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode wccCode speciesScientific speciesName estimatedYC roundedYC
1         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
2         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
3         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
4         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
5         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
6         ROW     SAB  Sorbus aucuparia       Rowan         2.4         2
  minWCCYC maxWCCYC finalYC spacing management period standingCarbonYr
1        2       12       2     1.5    Thinned    0-5               NA
2        2       12       2     1.5    Thinned   5-10               NA
3        2       12       2     1.5    Thinned  10-15               NA
4        2       12       2     1.5    Thinned  15-20               NA
5        2       12       2     1.5    Thinned  20-25               NA
6        2       12       2     1.5    Thinned  25-30               NA
  debrisCarbonYr totalCarbonYr cumCarbon5Yr cumBiomassCarbon cumEmissionsMgmt
1             NA            NA           NA               NA               NA
2             NA            NA           NA               NA               NA
3             NA            NA           NA               NA               NA
4             NA            NA           NA               NA               NA
5             NA            NA           NA               NA               NA
6             NA            NA           NA               NA               NA
  cumTotalCarbon remCarbonYr periodEnd clearfellCapCarbon
1            2.7          NA        NA                 NA
2            9.6          NA        NA                 NA
3           28.9          NA        NA                 NA
4           70.6          NA        NA                 NA
5           91.1          NA        NA                 NA
6          110.5          NA        NA                 NA</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Define a species composition for the site and join to a trimmed WCCTreeValues dataframe.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-21-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-21-1" role="tab" aria-controls="tabset-21-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-21-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-21-2" role="tab" aria-controls="tabset-21-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-21-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-21-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>species_composition <span class="op">=</span> pandas.DataFrame.from_dict(data <span class="op">=</span> {<span class="st">"speciesCode"</span>: <span class="st">"ROW"</span>, <span class="st">"proportion"</span>: [<span class="dv">1</span>]})</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>species_composition</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode  proportion
0         ROW           1</code></pre>
</div>
</div>
</div>
<div id="tabset-21-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-21-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>species_composition <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">"speciesCode"</span> <span class="ot">=</span> <span class="st">"ROW"</span>, <span class="st">"proportion"</span> <span class="ot">=</span> <span class="dv">1</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>species_composition</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode proportion
1         ROW          1</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Form a new data frame, select the relevant columns, and merge the species composition data frame.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-22-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-22-1" role="tab" aria-controls="tabset-22-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-22-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-22-2" role="tab" aria-controls="tabset-22-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-22-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-22-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> baseline_WCCTreeValues_ROW_1p5_Thinned</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[[<span class="st">"speciesCode"</span>, <span class="st">"period"</span>, <span class="st">"cumTotalCarbon"</span>]]</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.merge(species_composition, on <span class="op">=</span> [<span class="st">"speciesCode"</span>])</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode  period  cumTotalCarbon  proportion
0         ROW     0-5             2.7           1
1         ROW    5-10             9.6           1
2         ROW   10-15            28.9           1
3         ROW   15-20            70.6           1
4         ROW   20-25            91.1           1</code></pre>
</div>
</div>
</div>
<div id="tabset-22-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-22-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> baseline_WCCTreeValues_ROW_1p5_Thinned</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(speciesCode, period, cumTotalCarbon) <span class="sc">|&gt;</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">left_join</span>(species_composition, <span class="at">on =</span> <span class="st">"speciesCode"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining, by = "speciesCode"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode period cumTotalCarbon proportion
1         ROW    0-5            2.7          1
2         ROW   5-10            9.6          1
3         ROW  10-15           28.9          1
4         ROW  15-20           70.6          1
5         ROW  20-25           91.1          1
6         ROW  25-30          110.5          1</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Multiply the ’Cumulative total sequestration” data (cumTotalCarbon) by the species proportion and estimated area.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-23-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-23-1" role="tab" aria-controls="tabset-23-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-23-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-23-2" role="tab" aria-controls="tabset-23-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-23-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-23-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"cumTotalCarbonSite (A)"</span>] <span class="op">=</span> df[<span class="st">"cumTotalCarbon"</span>] <span class="op">*</span> df[<span class="st">"proportion"</span>] <span class="op">*</span> wccEstArea</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode  period  cumTotalCarbon  proportion  cumTotalCarbonSite (A)
0         ROW     0-5             2.7           1                    32.4
1         ROW    5-10             9.6           1                   115.2
2         ROW   10-15            28.9           1                   346.8
3         ROW   15-20            70.6           1                   847.2
4         ROW   20-25            91.1           1                  1093.2</code></pre>
</div>
</div>
</div>
<div id="tabset-23-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-23-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"cumTotalCarbonSite (A)"</span> <span class="ot">=</span> cumTotalCarbon <span class="sc">*</span> proportion <span class="sc">*</span> wccEstArea)</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speciesCode period cumTotalCarbon proportion cumTotalCarbonSite (A)
1         ROW    0-5            2.7          1                   32.4
2         ROW   5-10            9.6          1                  115.2
3         ROW  10-15           28.9          1                  346.8
4         ROW  15-20           70.6          1                  847.2
5         ROW  20-25           91.1          1                 1093.2
6         ROW  25-30          110.5          1                 1326.0</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Sum across all species.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-24-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-24-1" role="tab" aria-controls="tabset-24-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-24-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-24-2" role="tab" aria-controls="tabset-24-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-24-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-24-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop(columns <span class="op">=</span> [<span class="st">"speciesCode"</span>, <span class="st">"cumTotalCarbon"</span>, <span class="st">"proportion"</span>])</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">"period"</span>)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">sum</span>(axis <span class="op">=</span> <span class="dv">0</span>).to_frame()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                              0
cumTotalCarbonSite (A)  77065.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.reset_index()</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  cumTotalCarbonSite (A)
0     0-5                    32.4
1    5-10                   115.2
2   10-15                   346.8
3   15-20                   847.2
4   20-25                  1093.2</code></pre>
</div>
</div>
</div>
<div id="tabset-24-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-24-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>speciesCode, <span class="sc">-</span>cumTotalCarbon, <span class="sc">-</span>proportion) <span class="sc">|&gt;</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(period) <span class="sc">|&gt;</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="st">`</span><span class="at">cumTotalCarbonSite (A)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">cumTotalCarbonSite (A)</span><span class="st">`</span>))</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  period   `cumTotalCarbonSite (A)`
  &lt;chr&gt;                       &lt;dbl&gt;
1 "  0-5"                      32.4
2 "  5-10"                    115. 
3 " 10-15"                    347. 
4 " 15-20"                    847. 
5 " 20-25"                   1093. 
6 " 25-30"                   1326  </code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Add a 20% buffer by multiplying the Cumulative total sequestration for the site by 0.8</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-25-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-25-1" role="tab" aria-controls="tabset-25-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-25-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-25-2" role="tab" aria-controls="tabset-25-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-25-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-25-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"cumTotalCarbonSiteReduced (B)"</span>] <span class="op">=</span> df[<span class="st">"cumTotalCarbonSite (A)"</span>] <span class="op">*</span> <span class="fl">0.8</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  cumTotalCarbonSite (A)  cumTotalCarbonSiteReduced (B)
0     0-5                    32.4                          25.92
1    5-10                   115.2                          92.16
2   10-15                   346.8                         277.44
3   15-20                   847.2                         677.76
4   20-25                  1093.2                         874.56</code></pre>
</div>
</div>
</div>
<div id="tabset-25-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-25-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"cumTotalCarbonSiteReduced (B)"</span> <span class="ot">=</span> <span class="st">`</span><span class="at">cumTotalCarbonSite (A)</span><span class="st">`</span> <span class="sc">*</span> <span class="fl">0.8</span>)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  period   `cumTotalCarbonSite (A)` `cumTotalCarbonSiteReduced (B)`
  &lt;chr&gt;                       &lt;dbl&gt;                           &lt;dbl&gt;
1 "  0-5"                      32.4                            25.9
2 "  5-10"                    115.                             92.2
3 " 10-15"                    347.                            277. 
4 " 15-20"                    847.                            678. 
5 " 20-25"                   1093.                            875. 
6 " 25-30"                   1326                            1061. </code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Retrieve the total establishment emissions for the selected spacing and add to the dataframe.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-26-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-26-1" role="tab" aria-controls="tabset-26-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-26-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-26-2" role="tab" aria-controls="tabset-26-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-26-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-26-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>totalEstablishmentC <span class="op">=</span> baseline_WCCEstablishment[(baseline_WCCEstablishment.seedlingSpacing <span class="op">==</span> <span class="fl">1.5</span>) <span class="op">&amp;</span> (baseline_WCCEstablishment.variable <span class="op">==</span> <span class="st">"total"</span>)]</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>totalEstablishmentC <span class="op">=</span> totalEstablishmentC.drop(columns <span class="op">=</span> [<span class="st">"seedlingSpacing"</span>, <span class="st">"variable"</span>]).reset_index(drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>totalEstablishmentC <span class="op">=</span> totalEstablishmentC.rename(columns <span class="op">=</span> {<span class="st">"totalEmissions"</span>: <span class="st">"establishmentCarbonLoss (C)"</span>})</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"establishmentCarbonLoss (C)"</span>] <span class="op">=</span> totalEstablishmentC._get_value(<span class="dv">0</span>, <span class="dv">0</span>, takeable <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  ...  establishmentCarbonLoss (C)
0     0-5  ...                      -81.412
1    5-10  ...                      -81.412
2   10-15  ...                      -81.412
3   15-20  ...                      -81.412
4   20-25  ...                      -81.412

[5 rows x 4 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-26-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-26-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>totalEstablishmentC <span class="ot">=</span> baseline_WCCEstablishment <span class="sc">|&gt;</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(seedlingSpacing <span class="sc">==</span> <span class="fl">1.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(variable <span class="sc">==</span> <span class="st">"total"</span>) <span class="sc">|&gt;</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>seedlingSpacing, <span class="sc">-</span>variable) <span class="sc">|&gt;</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="st">"establishmentCarbonLoss (C)"</span> <span class="ot">=</span> <span class="st">"totalEmissions"</span>) <span class="sc">|&gt;</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">pull</span>(<span class="st">"establishmentCarbonLoss (C)"</span>)</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"establishmentCarbonLoss (C)"</span> <span class="ot">=</span> totalEstablishmentC)</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  period   `cumTotalCarbonSite (A)` `cumTotalCarbonSiteReduced (B)` establishm…¹
  &lt;chr&gt;                       &lt;dbl&gt;                           &lt;dbl&gt;        &lt;dbl&gt;
1 "  0-5"                      32.4                            25.9        -81.4
2 "  5-10"                    115.                             92.2        -81.4
3 " 10-15"                    347.                            277.         -81.4
4 " 15-20"                    847.                            678.         -81.4
5 " 20-25"                   1093.                            875.         -81.4
6 " 25-30"                   1326                            1061.         -81.4
# … with abbreviated variable name ¹​`establishmentCarbonLoss (C)`</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Calculate soil carbon flux by summing soil loss and soil sequestration data . To do this first identify the % topsoil carbon (0-30cm) loss associated with the method of site preparation and soil type.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-27-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-27-1" role="tab" aria-controls="tabset-27-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-27-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-27-2" role="tab" aria-controls="tabset-27-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-27-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-27-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>establishmentMethods <span class="op">=</span> pandas.DataFrame.from_dict(data <span class="op">=</span> {<span class="st">"MethodSitePrep"</span>: [<span class="st">"Negligible Disturbance"</span>, <span class="st">"Low Disturbance"</span>, <span class="st">"Medium Disturbance"</span>, <span class="st">"High Disturbance"</span>, <span class="st">"Very High Disturbance"</span>],</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>                                                          <span class="st">"Organomineral"</span>: [<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">40</span>],</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>                                                          <span class="st">"Mineral"</span>: [<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>]})</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>establishmentMethods <span class="op">=</span> establishmentMethods.set_index(<span class="st">"MethodSitePrep"</span>)</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>percSoilLoss <span class="op">=</span> establishmentMethods._get_value(<span class="st">"Medium Disturbance"</span>, <span class="st">"Mineral"</span>)</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>percSoilLoss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2</code></pre>
</div>
</div>
</div>
<div id="tabset-27-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-27-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>establishmentMethods <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">"MethodSitePrep"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Negligible Disturbance"</span>, <span class="st">"Low Disturbance"</span>, <span class="st">"Medium Disturbance"</span>, <span class="st">"High Disturbance"</span>, <span class="st">"Very High Disturbance"</span>),</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Organomineral"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">40</span>),</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Mineral"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>))</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>percSoilLoss <span class="ot">&lt;-</span> establishmentMethods <span class="sc">|&gt;</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(MethodSitePrep <span class="sc">==</span> <span class="st">"Medium Disturbance"</span>) <span class="sc">|&gt;</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">pull</span>(Mineral)</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>percSoilLoss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Retrieve the soil carbon lost for the selected country, previous land use, and % topsoil carbon (0-30cm) loss identified above.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-28-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-28-1" role="tab" aria-controls="tabset-28-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-28-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-28-2" role="tab" aria-controls="tabset-28-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-28-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-28-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>soilCLoss <span class="op">=</span> baseline_WCCSoilLoss[baseline_WCCSoilLoss[<span class="st">"topsoilCarbonSubtract"</span>] <span class="op">==</span> percSoilLoss]</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>soilCLoss <span class="op">=</span> soilCLoss.set_index(<span class="st">"Country"</span>)</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>soilCLoss <span class="op">=</span> soilCLoss._get_value(<span class="st">"England"</span>, <span class="st">"Arable"</span>)</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>soilCLoss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-5.133333333</code></pre>
</div>
</div>
</div>
<div id="tabset-28-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-28-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>soilCLoss <span class="ot">&lt;-</span> baseline_WCCSoilLoss <span class="sc">|&gt;</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(topsoilCarbonSubtract <span class="sc">==</span> percSoilLoss,</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>                  Country <span class="sc">==</span> <span class="st">"England"</span>) <span class="sc">|&gt;</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">pull</span>(Arable)</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>soilCLoss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -5.133333</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Calculate the total net soil carbon flux.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-29-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-29-1" role="tab" aria-controls="tabset-29-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-29-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-29-2" role="tab" aria-controls="tabset-29-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-29-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-29-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>soilCFlux <span class="op">=</span> baseline_WCCSoilSeq</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>soilCFlux[<span class="st">"cumSoilLoss"</span>] <span class="op">=</span> soilCLoss</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>soilCFlux[<span class="st">"cumSoilCarbonFlux (D)"</span>] <span class="op">=</span> soilCFlux[<span class="st">"cumSoilLoss"</span>] <span class="op">+</span> soilCFlux[<span class="st">"cumSoilSeq"</span>]</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>soilCFlux <span class="op">=</span> soilCFlux.drop(columns <span class="op">=</span> [<span class="st">"cumSoilSeq"</span>, <span class="st">"cumSoilLoss"</span>])</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>soilCFlux.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  cumSoilCarbonFlux (D)
0     0-5               0.366667
1    5-10               5.866667
2   10-15              11.366667
3   15-20              16.866667
4   20-25              22.366667</code></pre>
</div>
</div>
</div>
<div id="tabset-29-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-29-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>soilCFlux <span class="ot">&lt;-</span> baseline_WCCSoilSeq <span class="sc">|&gt;</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"cumSoilLoss"</span> <span class="ot">=</span> soilCLoss,</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"cumSoilCarbonFlux (D)"</span> <span class="ot">=</span> cumSoilLoss <span class="sc">+</span> cumSoilSeq) <span class="sc">|&gt;</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>cumSoilSeq, <span class="sc">-</span>cumSoilLoss)</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>soilCFlux <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  period cumSoilCarbonFlux (D)
1    0-5             0.3666667
2   5-10             5.8666667
3  10-15            11.3666667
4  15-20            16.8666667
5  20-25            22.3666667
6  25-30            27.8666667</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Merge soil carbon flux.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-30-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-30-1" role="tab" aria-controls="tabset-30-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-30-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-30-2" role="tab" aria-controls="tabset-30-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-30-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-30-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.merge(soilCFlux, on <span class="op">=</span> [<span class="st">"period"</span>])</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  ...  cumSoilCarbonFlux (D)
0     0-5  ...               0.366667
1    5-10  ...               5.866667
2   10-15  ...              11.366667
3   15-20  ...              16.866667
4   20-25  ...              22.366667

[5 rows x 5 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-30-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-30-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">left_join</span>(soilCFlux, <span class="at">on =</span> <span class="st">"period"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining, by = "period"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  period   `cumTotalCarbonSite (A)` cumTotalCarbonSiteReduced …¹ estab…² cumSo…³
  &lt;chr&gt;                       &lt;dbl&gt;                        &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 "  0-5"                      32.4                         25.9   -81.4   0.367
2 "  5-10"                    115.                          92.2   -81.4   5.87 
3 " 10-15"                    347.                         277.    -81.4  11.4  
4 " 15-20"                    847.                         678.    -81.4  16.9  
5 " 20-25"                   1093.                         875.    -81.4  22.4  
6 " 25-30"                   1326                         1061.    -81.4  27.9  
# … with abbreviated variable names ¹​`cumTotalCarbonSiteReduced (B)`,
#   ²​`establishmentCarbonLoss (C)`, ³​`cumSoilCarbonFlux (D)`</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Calculate the total cumulative carbon sequestration.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-31-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-31-1" role="tab" aria-controls="tabset-31-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-31-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-31-2" role="tab" aria-controls="tabset-31-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-31-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-31-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"totalProjectCarbonSeq (E)"</span>] <span class="op">=</span> df[<span class="st">"cumTotalCarbonSiteReduced (B)"</span>] <span class="op">+</span> df[<span class="st">"establishmentCarbonLoss (C)"</span>] <span class="op">+</span> df[<span class="st">"cumSoilCarbonFlux (D)"</span>]</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  ...  totalProjectCarbonSeq (E)
0     0-5  ...                 -55.125333
1    5-10  ...                  16.614667
2   10-15  ...                 207.394667
3   15-20  ...                 613.214667
4   20-25  ...                 815.514667

[5 rows x 6 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-31-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-31-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"totalProjectCarbonSeq (E)"</span> <span class="ot">=</span> <span class="st">`</span><span class="at">cumTotalCarbonSiteReduced (B)</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">establishmentCarbonLoss (C)</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">cumSoilCarbonFlux (D)</span><span class="st">`</span>)</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  period   `cumTotalCarbonSite (A)` cumTotalCarbonSite…¹ estab…² cumSo…³ total…⁴
  &lt;chr&gt;                       &lt;dbl&gt;                &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 "  0-5"                      32.4                 25.9   -81.4   0.367   -55.1
2 "  5-10"                    115.                  92.2   -81.4   5.87     16.6
3 " 10-15"                    347.                 277.    -81.4  11.4     207. 
4 " 15-20"                    847.                 678.    -81.4  16.9     613. 
5 " 20-25"                   1093.                 875.    -81.4  22.4     816. 
6 " 25-30"                   1326                 1061.    -81.4  27.9    1007. 
# … with abbreviated variable names ¹​`cumTotalCarbonSiteReduced (B)`,
#   ²​`establishmentCarbonLoss (C)`, ³​`cumSoilCarbonFlux (D)`,
#   ⁴​`totalProjectCarbonSeq (E)`</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Optionally, add Baseline and Leakage data then calculate the adjusted, net total project carbon sequestration.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-32-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-32-1" role="tab" aria-controls="tabset-32-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-32-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-32-2" role="tab" aria-controls="tabset-32-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-32-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-32-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"Baseline (F)"</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"Leakage (G)"</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"netTotalProjectCarbonSeq (H)"</span>] <span class="op">=</span> df[<span class="st">"totalProjectCarbonSeq (E)"</span>]<span class="op">+</span> df[<span class="st">"Baseline (F)"</span>] <span class="op">+</span> df[<span class="st">"Leakage (G)"</span>]</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  cumTotalCarbonSite (A)  ...  Leakage (G)  netTotalProjectCarbonSeq (H)
0     0-5                    32.4  ...            0                    -55.125333
1    5-10                   115.2  ...            0                     16.614667
2   10-15                   346.8  ...            0                    207.394667
3   15-20                   847.2  ...            0                    613.214667
4   20-25                  1093.2  ...            0                    815.514667

[5 rows x 9 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-32-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-32-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"Baseline (F)"</span> <span class="ot">=</span> <span class="dv">0</span>, <span class="st">"Leakage (G)"</span> <span class="ot">=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"netTotalProjectCarbonSeq (H)"</span> <span class="ot">=</span> <span class="st">`</span><span class="at">totalProjectCarbonSeq (E)</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Baseline (F)</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Leakage (G)</span><span class="st">`</span>)</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 9
  period   cumTotalCar…¹ cumTo…² estab…³ cumSo…⁴ total…⁵ Basel…⁶ Leaka…⁷ netTo…⁸
  &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 "  0-5"           32.4    25.9   -81.4   0.367   -55.1       0       0   -55.1
2 "  5-10"         115.     92.2   -81.4   5.87     16.6       0       0    16.6
3 " 10-15"         347.    277.    -81.4  11.4     207.        0       0   207. 
4 " 15-20"         847.    678.    -81.4  16.9     613.        0       0   613. 
5 " 20-25"        1093.    875.    -81.4  22.4     816.        0       0   816. 
6 " 25-30"        1326    1061.    -81.4  27.9    1007.        0       0  1007. 
# … with abbreviated variable names ¹​`cumTotalCarbonSite (A)`,
#   ²​`cumTotalCarbonSiteReduced (B)`, ³​`establishmentCarbonLoss (C)`,
#   ⁴​`cumSoilCarbonFlux (D)`, ⁵​`totalProjectCarbonSeq (E)`, ⁶​`Baseline (F)`,
#   ⁷​`Leakage (G)`, ⁸​`netTotalProjectCarbonSeq (H)`</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Calculate the claimable carbon sequestration by adding a final 20% buffer.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-33-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-33-1" role="tab" aria-controls="tabset-33-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-33-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-33-2" role="tab" aria-controls="tabset-33-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-33-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-33-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"claimableCarbonSeq (J)"</span>] <span class="op">=</span> df[<span class="st">"netTotalProjectCarbonSeq (H)"</span>] <span class="op">*</span> <span class="fl">0.8</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  ...  claimableCarbonSeq (J)
0     0-5  ...              -44.100267
1    5-10  ...               13.291733
2   10-15  ...              165.915733
3   15-20  ...              490.571733
4   20-25  ...              652.411733

[5 rows x 10 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-33-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-33-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"claimableCarbonSeq (J)"</span> <span class="ot">=</span> <span class="st">`</span><span class="at">netTotalProjectCarbonSeq (H)</span><span class="st">`</span> <span class="sc">*</span> <span class="fl">0.8</span>)</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 10
  period cumTo…¹ cumTo…² estab…³ cumSo…⁴ total…⁵ Basel…⁶ Leaka…⁷ netTo…⁸ claim…⁹
  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 "  0-…    32.4    25.9   -81.4   0.367   -55.1       0       0   -55.1   -44.1
2 "  5-…   115.     92.2   -81.4   5.87     16.6       0       0    16.6    13.3
3 " 10-…   347.    277.    -81.4  11.4     207.        0       0   207.    166. 
4 " 15-…   847.    678.    -81.4  16.9     613.        0       0   613.    491. 
5 " 20-…  1093.    875.    -81.4  22.4     816.        0       0   816.    652. 
6 " 25-…  1326    1061.    -81.4  27.9    1007.        0       0  1007.    806. 
# … with abbreviated variable names ¹​`cumTotalCarbonSite (A)`,
#   ²​`cumTotalCarbonSiteReduced (B)`, ³​`establishmentCarbonLoss (C)`,
#   ⁴​`cumSoilCarbonFlux (D)`, ⁵​`totalProjectCarbonSeq (E)`, ⁶​`Baseline (F)`,
#   ⁷​`Leakage (G)`, ⁸​`netTotalProjectCarbonSeq (H)`, ⁹​`claimableCarbonSeq (J)`</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Calculate the mean claimable carbon sequestration per hectare, in tCO2e per ha per year</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-34-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-34-1" role="tab" aria-controls="tabset-34-1" aria-selected="true">Python</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-34-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-34-2" role="tab" aria-controls="tabset-34-2" aria-selected="false">R</a></li></ul>
<div class="tab-content">
<div id="tabset-34-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-34-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"meanClaimableCarbonSeqPerHa (K)"</span>] <span class="op">=</span> df[<span class="st">"claimableCarbonSeq (J)"</span>] <span class="op">/</span> wccEstArea</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   period  ...  meanClaimableCarbonSeqPerHa (K)
0     0-5  ...                        -3.675022
1    5-10  ...                         1.107644
2   10-15  ...                        13.826311
3   15-20  ...                        40.880978
4   20-25  ...                        54.367644

[5 rows x 11 columns]</code></pre>
</div>
</div>
</div>
<div id="tabset-34-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-34-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="st">"meanClaimableCarbonSeqPerHa (K)"</span> <span class="ot">=</span> <span class="st">`</span><span class="at">claimableCarbonSeq (J)</span><span class="st">`</span> <span class="sc">/</span> wccEstArea)</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 11
  period cumTo…¹ cumTo…² estab…³ cumSo…⁴ total…⁵ Basel…⁶ Leaka…⁷ netTo…⁸ claim…⁹
  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 "  0-…    32.4    25.9   -81.4   0.367   -55.1       0       0   -55.1   -44.1
2 "  5-…   115.     92.2   -81.4   5.87     16.6       0       0    16.6    13.3
3 " 10-…   347.    277.    -81.4  11.4     207.        0       0   207.    166. 
4 " 15-…   847.    678.    -81.4  16.9     613.        0       0   613.    491. 
5 " 20-…  1093.    875.    -81.4  22.4     816.        0       0   816.    652. 
6 " 25-…  1326    1061.    -81.4  27.9    1007.        0       0  1007.    806. 
# … with 1 more variable: `meanClaimableCarbonSeqPerHa (K)` &lt;dbl&gt;, and
#   abbreviated variable names ¹​`cumTotalCarbonSite (A)`,
#   ²​`cumTotalCarbonSiteReduced (B)`, ³​`establishmentCarbonLoss (C)`,
#   ⁴​`cumSoilCarbonFlux (D)`, ⁵​`totalProjectCarbonSeq (E)`, ⁶​`Baseline (F)`,
#   ⁷​`Leakage (G)`, ⁸​`netTotalProjectCarbonSeq (H)`, ⁹​`claimableCarbonSeq (J)`</code></pre>
</div>
</div>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>